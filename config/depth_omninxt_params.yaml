depth_estimation_node:
  ros__parameters:
    # Subscriber topic for the 4-in-1 concatenated compressed image
    input_image_topic: "/oak_ffc_4p_driver_node/image_raw"

    # if true use compressed image
    use_compressed_image: false

    # --- REQUIRED: Path to the transform config file. ---
    transform_config_path: "/home/lis/ros2_swarmnxt_ws/src/depth_estimation_ros2/config/cam0_to_centroid.yaml"

    # Path to the ONNX model. Use an absolute path.
    onnx_model_path: "/home/lis/ros2_swarmnxt_ws/src/depth_estimation_ros2/models/S2M2_S_256_160_v2_torch29.onnx"

    # ONNX Runtime execution provider: "tensorrt", "cuda", or "cpu"
    execution_provider: "tensorrt"

    # Type of the ONNX model: "hitnet" or "crestereo" or "s2m2"
    model_type: "s2m2"

    # List of stereo pairs to process
    stereo_pairs: ["0_1", "1_2", "2_3", "3_0"]

    # --- NEW: Dynamic Calibration Path Parameters ---
    # Base path where all calibration folders (e.g., 'final_maps_120_160') are stored.
    calibration_base_path: "/home/lis/ros2_swarmnxt_ws/src/depth_estimation_ros2/config"

    # The resolution folder to use. This should match the folder name suffix.
    calibration_resolution: "256_160"

    # Whether to publish a single, combined point cloud.
    publish_combined_pointcloud: true

    # Topic for the combined point cloud.
    combined_pointcloud_topic: "/depth/pointcloud/combined"

    # The coordinate frame for the output point cloud(s).
    pointcloud_frame_id: "world"

    # if true, only publish the points we are sure about for s2m2
    filter_disparity: true

    # if true then run with nvidia multi-stream; if false run sequentially
    run_parallel: true

    # if true send debug image over ros2 topic
    debug_grid: true

    # if true compute time in the terminal
    verbose: false

    # =====================================================
    # DEPTH CORRECTION PARAMETERS
    # =====================================================
    # Depth corrections are loaded from the calibration folder:
    #   <calibration_base_path>/final_maps_<resolution>/depth_corrections.yaml
    #
    # Example depth_corrections.yaml:
    #   depth_correction:
    #     baseline_scales: [1.07, 1.45, 0.92, 1.04]
    #     disparity_offsets: [1.0, 0.5, -0.9, 1.0]
    #
    # Order matches stereo_pairs: ["0_1", "1_2", "2_3", "3_0"]
    # If file is missing, defaults to no correction (scale=1.0, offset=0.0)















